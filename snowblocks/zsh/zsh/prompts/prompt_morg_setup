morg_prompt() {
    echo '$prompt_newline↳'
}

prompt_morg_setup() {
    prompt_opts=(cr percent sp subst)

    setopt noprompt{bang,cr,percent,subst} "prompt${^prompt_opts[@]}"

    if [[ -z $prompt_newline ]]; then
        typeset -g prompt_newline=$'\n%{\r%}'
    fi

    autoload -Uz add-zsh-hook

    autoload -Uz +X add-zle-hook-widget 2>/dev/null

    PROMPT='$(morg_prompt)'
}

prompt_morg_setup "$@"
